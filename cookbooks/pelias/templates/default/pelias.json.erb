{
  "esclient": {
    "apiVersion": "<%= node[:pelias][:esclient][:api_version] %>",
    "keepAlive": <%= node[:pelias][:esclient][:keepalive] %>,
    "requestTimeout": "<%= node[:pelias][:esclient][:request_timeout] %>",
    "maxRetries": "<%= node[:pelias][:esclient][:max_retries] %>",
    "deadTimeout": "<%= node[:pelias][:esclient][:dead_timeout] %>",
    "maxSockets": "<%= node[:pelias][:esclient][:max_sockets] %>",
    "hosts": [
      {
        "env": "dev",
        "protocol": "http",
        "host": "<%= node[:pelias][:esclient][:host] %>",
        "port": <%= node[:pelias][:esclient][:port] %>
      }
    ],
    "log": [{
      "type": "stdio",
      "level": [ "error", "warning" ]
    },{
      "type": "file",
      "level": [ "error", "warning" ],
      "path": "<%= node[:pelias][:esclient][:logdir] %>/esclient.log"
    }]
  },
  "logger": {
    "level": "verbose"
  },
  "api": {
    "textAnalyzer": "<%= node[:pelias][:api][:text_analyzer] %>",
    "services": {
      "placeholder": {
        "url": "http://localhost:6100"
      },
      "libpostal": {
        "url": "http://localhost:8080"
      },
      "pip": {
        "url": "http://localhost:3102"
      }
    }
  },
  "imports": {
    "adminLookup": {
      "enabled": <%= node[:pelias][:importers][:admin_lookup] %>
    },
    "openaddresses": {
      "deduplicate": false,
      "datapath": "<%= node[:pelias][:openaddresses][:data_dir] %>"
    },
    "geonames": {
      "datapath": "<%= node[:pelias][:geonames][:data_dir] %>",
      "countryCode": "<%= node[:pelias][:geonames][:country_code] %>"
    },
    "whosonfirst": {
      "datapath": "<%= node[:pelias][:whosonfirst][:data_dir] %>",
      "importVenues": false,
      "importPostalcodes": false,
      "importPlace": [
        "102086957"
      ]
    },
    "openstreetmap": {
      "datapath": "<%= node[:pelias][:osm][:data_dir] %>",
      "adminLookup": <%= node[:pelias][:osm][:admin_lookup] %>,
      "leveldbpath": "<%= node[:pelias][:osm][:leveldb] %>",
      "import": [{
        "filename": "<%= @osm_data_file %>"
      }]
    },
    "gtfs": {
      "stopsurl": "<%= node[:pelias][:gtfs][:stops_url] %>"
    }
  },
  "elasticsearch": {
    "settings": {
      "index": {
        "number_of_replicas": "<%= node[:pelias][:schema][:replicas] %>",
        "number_of_shards": "<%= node[:pelias][:schema][:shards] %>",
        "index.index_concurrency": "<%= node[:pelias][:schema][:concurrency] %>"
      }
    }
  }
}
